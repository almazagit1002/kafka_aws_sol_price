# Kafka AWS Setup with Terraform
This Terraform configuration sets up various AWS resources such as EC2, S3, Glue Crawler, Athena Database, and IAM roles, with an associated SSH key for EC2 access.
## Prerequisites
* Terraform installed on your local machine.
* AWS CLI configured with access to your AWS account.
* SSH Key Pair for EC2 access (this will be generated by Terraform).
## Terraform Commands:
1. Initialize Terraform
To initialize Terraform and download the necessary providers, run the following command:
```
terraform init
```
2. Apply the Terraform Configuration
This command will provision all the resources defined in the main.tf file, including EC2, IAM roles, Glue, S3, and Athena:

```
terraform plan
terraform apply
```
### Important Steps for EC2 SSH Key Access:
1. Check Terraform Output
After running terraform apply, check the output for the EC2 key pair details. Terraform will generate a file named my-ec2-key.pem in the current directory. The key pair will be used to securely access your EC2 instance. To see the key 
```
terraform output private_key_pem
```
2. Copy and paste in my-ec2-key.pem

3. Set Permissions for the Key File
To ensure the .pem file has the correct permissions for SSH access, run the following commands:

For Windows (using PowerShell):
```
icacls "my-ec2-key.pem" /inheritance:r /grant:r "${env:USERNAME}:(R)"

```
This command will grant read-only access to the key file for your user account.

For Linux or macOS (using terminal): If you're working on Linux/macOS, you can set permissions using the chmod command:
```
chmod 400 my-ec2-key.pem

```

4. Connect to EC2 Instance
Once youâ€™ve ensured the correct permissions, you can connect to your EC2 instance using SSH:
```
ssh -i "my-ec2-key.pem" ec2-user@<ec2_public_ip>

```
## Destroy the Resources
If you want to destroy all the resources created by this Terraform configuration, use the following command:
```
terraform destroy
```